# Hướng Dẫn Hệ Thống Kế Hoạch Công Khai

## Tổng Quan

Hệ thống kế hoạch công khai cho phép người dùng chia sẻ và sử dụng các kế hoạch ăn uống từ cộng đồng. Người dùng có thể xem tất cả kế hoạch công khai, kế hoạch của bản thân, và áp dụng kế hoạch của người khác cho mình.

## Cách Thức Hoạt Động

### 🔄 Quy Trình Chia Sẻ Kế Hoạch

#### **Tạo Kế Hoạch Công Khai**
1. Tạo kế hoạch mới (bữa ăn/ngày/tuần/tháng)
2. Đánh dấu "Công khai" và "Template"
3. Thêm tags phù hợp để dễ tìm kiếm
4. Kế hoạch sẽ hiển thị cho tất cả người dùng

#### **Áp Dụng Kế Hoạch Của Người Khác**
1. Duyệt kế hoạch công khai
2. Nhấn nút "Áp dụng"
3. Tùy chỉnh tên và ngày bắt đầu
4. Thêm ghi chú cá nhân
5. Kế hoạch được sao chép vào tài khoản cá nhân

## Phân Loại Kế Hoạch

### 📂 View Modes

#### **Tất Cả** (All)
- Hiển thị kế hoạch công khai + kế hoạch của bản thân
- Bao gồm cả template và kế hoạch cá nhân
- Phù hợp để khám phá và quản lý tổng thể

#### **Của Tôi** (My Plans)
- Chỉ hiển thị kế hoạch do bản thân tạo
- Bao gồm cả công khai và riêng tư
- Có quyền sửa/xóa đầy đủ

#### **Công Khai** (Public)
- Chỉ hiển thị kế hoạch công khai của người khác
- Không thể sửa/xóa, chỉ có thể áp dụng
- Phù hợp để tìm inspiration

### 🏷️ Loại Kế Hoạch

#### **Template Plans**
- Kế hoạch mẫu được thiết kế để chia sẻ
- Thường có tính chất tổng quát, dễ áp dụng
- Được đánh dấu với icon ⭐ Star

#### **Personal Plans**
- Kế hoạch cá nhân cho nhu cầu riêng
- Có thể công khai hoặc riêng tư
- Thường có ngày cụ thể

## Tính Năng Chính

### 🔍 Tìm Kiếm và Lọc

#### **Search Bar**
- Tìm theo tên kế hoạch
- Tìm theo mô tả
- Tìm theo tags

#### **Type Filter**
- Tất cả loại
- Kế hoạch bữa ăn
- Kế hoạch ngày
- Kế hoạch tuần
- Kế hoạch tháng

#### **View Mode Filter**
- Tất cả kế hoạch
- Kế hoạch của tôi
- Kế hoạch công khai

### 📋 Thông Tin Kế Hoạch

#### **Card Display**
- **Tên và mô tả**: Thông tin cơ bản
- **Loại kế hoạch**: Badge với icon
- **Thời gian**: Cooking time hoặc duration
- **Khẩu phần**: Số người phục vụ
- **Calories**: Tổng năng lượng
- **Chi phí**: Ước tính giá tiền
- **Tags**: Nhãn phân loại
- **Người tạo**: Tên và ngày tạo
- **Trạng thái**: Công khai/Template badges

#### **Action Buttons**
- **Xem**: Xem chi tiết kế hoạch
- **Sửa**: Chỉnh sửa (chỉ kế hoạch của mình)
- **Áp dụng**: Sao chép kế hoạch cho bản thân
- **Xóa**: Xóa kế hoạch (chỉ kế hoạch của mình)

### 🎯 Apply Plan Modal

#### **Thông Tin Kế Hoạch Gốc**
- Hiển thị đầy đủ thông tin kế hoạch được chọn
- Người tạo và ngày tạo
- Tags và đặc điểm

#### **Tùy Chỉnh Cá Nhân**
- **Tên kế hoạch**: Đặt tên riêng hoặc dùng tên mặc định
- **Ngày bắt đầu**: Chọn ngày áp dụng
- **Ghi chú cá nhân**: Thêm notes riêng

#### **Preview**
- Xem trước kế hoạch sau khi áp dụng
- Thông tin thời gian và người sở hữu mới
- Trạng thái riêng tư

## Workflow Người Dùng

### 🌟 Scenario 1: Tìm Kế Hoạch Ăn Chay

1. **Truy cập trang**: `/ke-hoach-nau-an`
2. **Chọn view mode**: "Công khai"
3. **Tìm kiếm**: Nhập "chay" hoặc "vegetarian"
4. **Lọc loại**: Chọn "Tuần" nếu muốn kế hoạch dài hạn
5. **Xem chi tiết**: Click "Xem" để đánh giá
6. **Áp dụng**: Click "Áp dụng" nếu phù hợp
7. **Tùy chỉnh**: Đặt tên và chọn ngày bắt đầu
8. **Hoàn thành**: Kế hoạch được thêm vào "Của tôi"

### 🍳 Scenario 2: Chia Sẻ Kế Hoạch Bữa Sáng

1. **Tạo kế hoạch mới**: Click "Bữa ăn"
2. **Thiết kế**: Thêm món ăn, tính toán dinh dưỡng
3. **Đánh dấu công khai**: Check "Công khai" và "Template"
4. **Thêm tags**: "breakfast", "healthy", "quick"
5. **Lưu**: Kế hoạch xuất hiện trong "Công khai"
6. **Người khác có thể áp dụng**: Nhận feedback từ cộng đồng

### 👥 Scenario 3: Quản Lý Kế Hoạch Cá Nhân

1. **Chọn "Của tôi"**: Xem tất cả kế hoạch bản thân
2. **Phân loại**: Kế hoạch công khai và riêng tư
3. **Chỉnh sửa**: Cập nhật kế hoạch cũ
4. **Sao chép**: Áp dụng lại kế hoạch cũ với ngày mới
5. **Xóa**: Dọn dẹp kế hoạch không cần thiết

## Phân Quyền và Bảo Mật

### 🔐 Ownership Rules

#### **Kế Hoạch Của Mình**
- ✅ **Xem**: Toàn quyền truy cập
- ✅ **Sửa**: Thay đổi mọi thông tin
- ✅ **Xóa**: Xóa hoàn toàn
- ✅ **Áp dụng**: Sao chép cho lần sử dụng khác
- ✅ **Chia sẻ**: Đặt công khai/riêng tư

#### **Kế Hoạch Của Người Khác**
- ✅ **Xem**: Chỉ xem thông tin
- ❌ **Sửa**: Không thể thay đổi
- ❌ **Xóa**: Không thể xóa
- ✅ **Áp dụng**: Sao chép về tài khoản riêng
- ❌ **Chia sẻ**: Không thể thay đổi trạng thái

### 🛡️ Privacy Protection

#### **Kế Hoạch Riêng Tư**
- Chỉ chủ sở hữu mới thấy
- Không xuất hiện trong tìm kiếm công khai
- Có thể chuyển thành công khai bất cứ lúc nào

#### **Kế Hoạch Công Khai**
- Hiển thị cho tất cả người dùng
- Có thể được áp dụng bởi bất kỳ ai
- Vẫn thuộc sở hữu của người tạo

## UI/UX Design

### 🎨 Visual Indicators

#### **Plan Type Icons**
- 🍽️ **Meal Plan**: ChefHat icon
- 📅 **Day Plan**: Calendar icon
- 📆 **Week Plan**: CalendarDays icon
- 🗓️ **Month Plan**: CalendarRange icon

#### **Status Badges**
- 🌍 **Công khai**: Green badge
- ⭐ **Template**: Star badge with outline
- 🔒 **Riêng tư**: Không hiển thị badge

#### **Action Button Colors**
- 👁️ **Xem**: Default gray
- ✏️ **Sửa**: Default gray (chỉ kế hoạch của mình)
- 📋 **Áp dụng**: Green (kế hoạch công khai)
- 🗑️ **Xóa**: Red (chỉ kế hoạch của mình)

### 📱 Responsive Design

#### **Desktop**
- Grid layout 3 columns
- Đầy đủ thông tin trên card
- Hover effects và tooltips

#### **Tablet**
- Grid layout 2 columns
- Thông tin rút gọn
- Touch-friendly buttons

#### **Mobile**
- Single column layout
- Card design tối ưu cho touch
- Bottom sheet cho actions

## Tích Hợp Hệ Thống

### 🔗 Integration Points

#### **Với Menu System**
- Kế hoạch có thể chứa thực đơn
- Thực đơn có thể được thêm vào kế hoạch
- Tự động tính toán dinh dưỡng

#### **Với Recipe System**
- Kế hoạch bao gồm các công thức
- Tự động tạo shopping list
- Nutrition analysis

#### **Với User System**
- Authentication và authorization
- User preferences và dietary restrictions
- Social features (future)

## Analytics và Tracking

### 📊 Usage Statistics

#### **Plan Metrics**
- Số lần được áp dụng
- Rating từ người dùng
- Comments và feedback

#### **User Metrics**
- Kế hoạch được tạo
- Kế hoạch được áp dụng
- Engagement với cộng đồng

### 🎯 Recommendations

#### **Personalized Suggestions**
- Dựa trên lịch sử áp dụng
- Dietary preferences
- Seasonal trends

#### **Popular Plans**
- Most applied plans
- Trending tags
- Community favorites

## Roadmap Phát Triển

### Phase 1 ✅ (Hiện tại)
- Basic plan sharing
- Apply plan functionality
- View mode filtering
- Permission system

### Phase 2 🔄 (Đang phát triển)
- Rating và review system
- Advanced search filters
- Plan categories
- Seasonal recommendations

### Phase 3 📋 (Tương lai)
- Social features (follow, like, comment)
- AI-powered recommendations
- Collaborative planning
- Mobile app

## Hỗ Trợ và Troubleshooting

### ❓ Câu Hỏi Thường Gặp

#### **"Không thấy nút Áp dụng"**
- Chỉ kế hoạch công khai của người khác mới có nút này
- Kế hoạch của bản thân có nút "Sao chép" thay thế

#### **"Kế hoạch áp dụng không giống gốc"**
- Kế hoạch được sao chép với ngày mới
- Có thể có điều chỉnh về thời gian
- Ghi chú cá nhân được thêm vào

#### **"Không tìm thấy kế hoạch đã áp dụng"**
- Kiểm tra trong view mode "Của tôi"
- Kế hoạch áp dụng luôn là riêng tư
- Tìm theo tên đã đặt

### 📞 Liên Hệ Hỗ Trợ

- **Bug reports**: Báo lỗi về tính năng
- **Feature requests**: Đề xuất cải tiến
- **Community support**: Hỗ trợ từ cộng đồng

---

**Lưu ý**: Hệ thống kế hoạch công khai được thiết kế để khuyến khích chia sẻ và học hỏi từ cộng đồng, đồng thời đảm bảo quyền riêng tư và kiểm soát của từng người dùng.
